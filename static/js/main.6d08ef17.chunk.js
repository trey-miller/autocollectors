(this.webpackJsonpautocollectors=this.webpackJsonpautocollectors||[]).push([[0],{18:function(e,t,n){e.exports=n(31)},23:function(e,t,n){},24:function(e,t,n){},3:function(e,t,n){e.exports={root:"Game_root__2VenW",controls:"Game_controls__2cTjf",block:"Game_block__3C-M9",blockColor:"Game_blockColor__2SBPn",reachable:"Game_reachable__3vy7J",row:"Game_row__1uA0V",success:"Game_success__2fBGb"}},31:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(7),l=n.n(r),o=n(16),u=(n(23),n(24),n(13)),s=n(1),i=n(5),f=n(3),b=n.n(f),m=function(e,t,n,c){return e.map((function(e,a){return a===t?e.map((function(e,t){return t===n?c:e})):e}))};function E(e,t){var n=parseInt(e,10);return isNaN(n)?t:n}var O=n(33);var v=function(e){return function(t,n){t({type:"COLLECT",payload:e});var c=n().blocks[e.y][e.x];0===c.stuff&&t({type:"SEARCH",payload:c})}};function k(){var e=Object(s.c)((function(e){return e.blocks.length}));return a.a.createElement("div",{className:b.a.root},a.a.createElement("div",{className:b.a.controls},a.a.createElement(p,{defaultGridSize:e}),a.a.createElement(d,null)),a.a.createElement(h,null),a.a.createElement("div",null,Object(i.range)(e).map((function(e){return a.a.createElement(_,{key:e,y:e})}))),a.a.createElement(j,null))}function p(e){var t=e.defaultGridSize,n=Object(s.b)(),r=Object(c.useState)(t),l=Object(u.a)(r,2),o=l[0],i=l[1],f=Object(c.useCallback)((function(e){return i(E(e.target.value,o))}),[o]),b=Object(c.useCallback)((function(){return n({type:"RESET_GAME",payload:{size:o}})}),[n,o]);return a.a.createElement("p",null,a.a.createElement("span",null,"Size"),a.a.createElement("input",{type:"number",min:1,value:o,onChange:f}),a.a.createElement("button",{onClick:b},"Reset"))}function d(){var e=Object(s.b)(),t=Object(c.useState)(1),n=Object(u.a)(t,2),r=n[0],l=n[1],o=Object(c.useCallback)((function(e){return l(E(e.target.value,r))}),[r]);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/30,n=Object(c.useRef)(0),a=Object(c.useRef)(0),r=Object(c.useMemo)((function(){return 10*t}),[t]);Object(O.a)((function(c){0===n.current&&(n.current=c);var l=c-n.current;for(n.current=c,a.current+=l,a.current>r&&(a.current=r);a.current>=t;)e(t),a.current-=t}))}((function(){return e((function(e,t){var n=t().collectibleBlocks;if(n.length>0){var c=n[Math.floor(Math.random()*n.length)];e(v(c))}}))}),Object(c.useMemo)((function(){return 1e3/r}),[r])),a.a.createElement("p",null,a.a.createElement("span",null,"Speed"),a.a.createElement("input",{type:"number",min:1,value:r,onChange:o}),a.a.createElement("span",null,"\xa0ticks/sec"))}function h(){var e=Object(s.c)((function(e){return e.stuff}));return a.a.createElement("p",null,"Collected stuff: ",a.a.createElement("strong",null,e))}function j(){return Object(s.c)((function(e){return 0===e.collectibleBlocks.length}))?a.a.createElement("p",{className:b.a.success},"All stuff collected!"):null}function _(e){var t=e.y,n=Object(s.c)((function(e){return e.blocks[t].length}));return a.a.createElement("div",{className:b.a.row},Object(i.range)(n).map((function(e){return a.a.createElement(y,{key:e,x:e,y:t})})))}function y(e){var t=e.x,n=e.y,r=Object(s.c)((function(e){return e.blocks[n][t]})),l=Object(s.b)(),o=Object(c.useCallback)((function(){return r.stuff>0&&l(v(r))}),[l,r]),u=Object(c.useMemo)((function(){return Math.floor(100*r.stuff/10)+"%"}),[r.stuff]);return a.a.createElement("div",{className:"".concat(b.a.block," ").concat(r.reachable?b.a.reachable:""),onClick:o},a.a.createElement("div",{className:b.a.blockColor,style:{height:u,width:u}}))}var g=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},"Auto Collectors - Work in Progress"),a.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=n(4),w=n(9),S=n(2);function N(e,t){var n=t.x,c=t.y,a=e.blocks[c][n];if(a.stuff<=0)return e;var r=Object(S.a)(Object(S.a)({},a),{},{stuff:a.stuff-1,reachable:!0}),l=r.stuff<=0;return Object(S.a)(Object(S.a)({},e),{},{blocks:m(e.blocks,c,n,r),collectibleBlocks:l?e.collectibleBlocks.filter((function(e){return e.x!==n||e.y!==c})):a.reachable?e.collectibleBlocks:[].concat(Object(w.a)(e.collectibleBlocks),[{x:n,y:c}]),stuff:e.stuff+1})}function B(e,t,n){if(t<0||t>=e.blocks.length||n<0||n>=e.blocks.length)return e;var c=e.blocks[t][n];return c.reachable?e:Object(S.a)(Object(S.a)({},e),{},{blocks:m(e.blocks,t,n,Object(S.a)(Object(S.a)({},c),{},{reachable:!0})),collectibleBlocks:[].concat(Object(w.a)(e.collectibleBlocks),[{x:n,y:t}])})}function x(e,t){var n=t.x,c=t.y;return e.blocks[c][n].stuff>0?e:(e=B(e,c+1,n),e=B(e,c-1,n),e=B(e,c,n+1),e=B(e,c,n-1))}var G=function(e,t){return{blocks:Object(i.range)(t).map((function(t){return Object(i.range)(e).map((function(e){return{x:e,y:t,stuff:10,reachable:0===t&&0===e}}))})),collectibleBlocks:[{x:0,y:0}],stuff:0}},M=function(){return G(20,20)};var A=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):C.c)(Object(C.a)(o.a)),R=Object(C.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M(),t=arguments.length>1?arguments[1]:void 0;if(!t)return e;switch(t.type){case"COLLECT":return N(e,t.payload);case"SEARCH":return x(e,t.payload);case"RESET_GAME":var n=t.payload.size;return G(n,n);default:return e}}),A);l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(s.a,{store:R},a.a.createElement(g,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.6d08ef17.chunk.js.map
(this.webpackJsonpautocollectors=this.webpackJsonpautocollectors||[]).push([[0],{18:function(e,t,n){e.exports=n(31)},23:function(e,t,n){},24:function(e,t,n){},3:function(e,t,n){e.exports={root:"Game_root__2VenW",controls:"Game_controls__2cTjf",block:"Game_block__3C-M9",blockColor:"Game_blockColor__2SBPn",reachable:"Game_reachable__3vy7J",row:"Game_row__1uA0V",success:"Game_success__2fBGb"}},31:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(7),l=n.n(a),o=n(15),u=(n(23),n(24),n(12)),s=n(1),i=n(5),f=n(3),b=n.n(f),m=function(e,t,n,c){return e.map((function(e,r){return r===t?e.map((function(e,t){return t===n?c:e})):e}))};function E(e,t){var n=parseInt(e,10);return isNaN(n)?t:n}var O=n(33);var v=function(e){return function(t,n){t({type:"COLLECT",payload:e});var c=n().blocks[e.y][e.x];0===c.stuff&&t({type:"SEARCH",payload:c})}};function k(){var e=Object(s.c)((function(e){return e.blocks.length}));return r.a.createElement("div",{className:b.a.root},r.a.createElement("div",{className:b.a.controls},r.a.createElement(p,{defaultGridSize:e}),r.a.createElement(d,null)),r.a.createElement(j,null),r.a.createElement("div",null,Object(i.range)(0,e).map((function(e){return r.a.createElement(_,{key:e,y:e})}))),r.a.createElement(h,null))}function p(e){var t=e.defaultGridSize,n=Object(s.b)(),a=Object(c.useState)(t),l=Object(u.a)(a,2),o=l[0],i=l[1],f=Object(c.useCallback)((function(e){return i(E(e.target.value,o))}),[o]),b=Object(c.useCallback)((function(){return n({type:"RESET_GAME",payload:{size:o}})}),[n,o]);return r.a.createElement("p",null,r.a.createElement("span",null,"Size"),r.a.createElement("input",{type:"number",min:1,value:o,onChange:f}),r.a.createElement("button",{onClick:b},"Reset"))}function d(){var e=Object(s.b)(),t=Object(c.useState)(1),n=Object(u.a)(t,2),a=n[0],l=n[1],o=Object(c.useCallback)((function(e){return l(E(e.target.value,a))}),[a]);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/30,n=Object(c.useRef)(0),r=Object(c.useRef)(0),a=Object(c.useMemo)((function(){return 10*t}),[t]);Object(O.a)((function(c){0===n.current&&(n.current=c);var l=c-n.current;for(n.current=c,r.current+=l,r.current>a&&(r.current=a);r.current>=t;)e(t),r.current-=t}))}((function(){return e((function(e,t){var n=t().collectibleBlocks;if(n.length>0){var c=n[Math.floor(Math.random()*n.length)];e(v(c))}}))}),Object(c.useMemo)((function(){return 1e3/a}),[a])),r.a.createElement("p",null,r.a.createElement("span",null,"Speed"),r.a.createElement("input",{type:"number",min:1,value:a,onChange:o}),r.a.createElement("span",null,"\xa0ticks/sec"))}function j(){var e=Object(s.c)((function(e){return e.stuff}));return r.a.createElement("p",null,"Collected stuff: ",r.a.createElement("strong",null,e))}function h(){return Object(s.c)((function(e){return 0===e.collectibleBlocks.length}))?r.a.createElement("p",{className:b.a.success},"All stuff collected!"):null}function _(e){var t=e.y,n=Object(s.c)((function(e){return e.blocks[t].length}));return r.a.createElement("div",{className:b.a.row},Object(i.range)(0,n).map((function(e){return r.a.createElement(y,{key:e,x:e,y:t})})))}function y(e){var t=e.x,n=e.y,a=Object(s.c)((function(e){return e.blocks[n][t]})),l=Object(s.b)(),o=Object(c.useCallback)((function(){return a.stuff>0&&l(v(a))}),[l,a]),u=Object(c.useMemo)((function(){return Math.floor(100*a.stuff/10)+"%"}),[a.stuff]);return r.a.createElement("div",{className:"".concat(b.a.block," ").concat(a.reachable?b.a.reachable:""),onClick:o},r.a.createElement("div",{className:b.a.blockColor,style:{height:u,width:u}}))}var g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Auto Collectors - Work in Progress"),r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=n(4),w=n(2);function S(e,t){var n=t.x,c=t.y,r=e.blocks[c][n];if(r.stuff<=0)return e;var a=Object(w.a)(Object(w.a)({},r),{},{stuff:r.stuff-1}),l=a.stuff<=0;return Object(w.a)(Object(w.a)({},e),{},{blocks:m(e.blocks,c,n,a),collectibleBlocks:l?e.collectibleBlocks.filter((function(e){return e.x!==n||e.y!==c})):e.collectibleBlocks,stuff:e.stuff+1})}var N=n(17);function B(e,t,n){if(t<0||t>=e.blocks.length||n<0||n>=e.blocks.length)return e;var c=e.blocks[t][n];return c.reachable?e:Object(w.a)(Object(w.a)({},e),{},{blocks:m(e.blocks,t,n,Object(w.a)(Object(w.a)({},c),{},{reachable:!0})),collectibleBlocks:[].concat(Object(N.a)(e.collectibleBlocks),[{x:n,y:t}])})}function G(e,t){var n=t.x,c=t.y;return e.blocks[c][n].stuff>0?e:(e=B(e,c+1,n),e=B(e,c-1,n),e=B(e,c,n+1),e=B(e,c,n-1))}var M=function(e,t){return{blocks:Object(i.range)(0,t).map((function(t){return Object(i.range)(0,e).map((function(e){return{x:e,y:t,stuff:10,reachable:0===t&&0===e}}))})),collectibleBlocks:[{x:0,y:0}],stuff:0}},x=function(){return M(3,3)};var A=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):C.c)(Object(C.a)(o.a)),R=Object(C.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x(),t=arguments.length>1?arguments[1]:void 0;if(!t)return e;switch(t.type){case"COLLECT":return S(e,t.payload);case"SEARCH":return G(e,t.payload);case"RESET_GAME":var n=t.payload.size;return M(n,n);default:return e}}),A);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:R},r.a.createElement(g,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.8caecd32.chunk.js.map
(this.webpackJsonpautocollectors=this.webpackJsonpautocollectors||[]).push([[0],{18:function(e,t,n){e.exports=n(31)},23:function(e,t,n){},24:function(e,t,n){},3:function(e,t,n){e.exports={root:"Game_root__2VenW",controls:"Game_controls__2cTjf",grid:"Game_grid__zZH6q",row:"Game_row__1uA0V",block:"Game_block__3C-M9",blockColor:"Game_blockColor__2SBPn",reachable:"Game_reachable__3vy7J",success:"Game_success__2fBGb"}},31:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),l=n.n(r),o=n(16),u=(n(23),n(24),n(13)),s=n(2),i=n(5),f=n(3),b=n.n(f),m=s.c,d=function(e,t){return{blocks:Object(i.range)(t).map((function(t){return Object(i.range)(e).map((function(e){return{x:e,y:t,stuff:10,reachable:0===t&&0===e}}))})),collectibleBlocks:[{x:0,y:0}],stuff:0,speed:1}},E=function(){return d(20,20)},p=n(33);var O=function(e){return function(t,n){t({type:"COLLECT",payload:e});var a=n().blocks[e.y][e.x];0===a.stuff&&t({type:"SEARCH",payload:a})}};function k(){var e=m((function(e){return e.blocks.length}));return c.a.createElement("div",{className:b.a.root},c.a.createElement(v,null),c.a.createElement("div",{className:b.a.controls},c.a.createElement(_,{defaultGridSize:e}),c.a.createElement(h,null)),c.a.createElement(j,null),c.a.createElement("div",{className:b.a.grid},Object(i.range)(e).map((function(e){return c.a.createElement(g,{key:e,y:e})}))),c.a.createElement(y,null))}function v(){var e=Object(s.b)(),t=m((function(e){return e.speed}));return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/30,n=Object(a.useRef)(0),c=Object(a.useRef)(0),r=Object(a.useMemo)((function(){return 10*t}),[t]);Object(p.a)((function(a){0===n.current&&(n.current=a);var l=a-n.current;for(n.current=a,c.current+=l,c.current>r&&(c.current=r);c.current>=t;)e(t),c.current-=t}))}((function(){return e((function(e,t){var n=t().collectibleBlocks;if(n.length>0){var a=n[Math.floor(Math.random()*n.length)];e(O(a))}}))}),Object(a.useMemo)((function(){return 1e3/t}),[t])),null}function _(e){var t=e.defaultGridSize,n=Object(s.b)(),r=Object(a.useState)(t),l=Object(u.a)(r,2),o=l[0],i=l[1],f=Object(a.useState)(!1),b=Object(u.a)(f,2),m=b[0],d=b[1],E=Object(a.useCallback)((function(e){var t=e.target.value,n=parseInt(t,10);n>0&&i(n),d(isNaN(n)||n<1)}),[]),p=Object(a.useCallback)((function(){return!m&&n({type:"RESET_GAME",payload:{size:o}})}),[n,m,o]);return c.a.createElement("p",null,c.a.createElement("span",null,"Size"),c.a.createElement("input",{type:"number",min:1,defaultValue:String(t),onChange:E,required:!0,pattern:"[1-9][0-9]*"}),c.a.createElement("button",{disabled:m,onClick:p},"Reset"))}function h(){var e=Object(s.b)(),t=m((function(e){return e.speed})),n=Object(a.useCallback)((function(t){var n=t.target.valueAsNumber;n>0&&e(function(e){return{type:"SET_SPEED",payload:e}}(n))}),[e]);return c.a.createElement("p",null,c.a.createElement("span",null,"Speed"),c.a.createElement("input",{type:"number",min:1,defaultValue:String(t),onChange:n,required:!0,pattern:"[1-9][0-9]*"}),c.a.createElement("span",null,"\xa0ticks/sec"))}function j(){var e=m((function(e){return e.stuff}));return c.a.createElement("p",null,"Collected stuff: ",c.a.createElement("strong",null,e))}function y(){return m((function(e){return 0===e.collectibleBlocks.length}))?c.a.createElement("p",{className:b.a.success},"All stuff collected!"):null}function g(e){var t=e.y,n=m((function(e){return e.blocks[t].length}));return c.a.createElement("div",{className:b.a.row},Object(i.range)(n).map((function(e){return c.a.createElement(S,{key:e,x:e,y:t})})))}function S(e){var t=e.x,n=e.y,r=m((function(e){return e.blocks[n][t]})),l=Object(s.b)(),o=Object(a.useCallback)((function(){return r.stuff>0&&l(O(r))}),[l,r]),u=Object(a.useMemo)((function(){return Math.floor(100*r.stuff/10)+"%"}),[r.stuff]);return c.a.createElement("div",{className:"".concat(b.a.block," ").concat(r.reachable?b.a.reachable:""),onClick:o},c.a.createElement("div",{className:b.a.blockColor,style:{height:u,width:u}}))}var C=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},"Auto Collectors - Work in Progress"),c.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=n(4),N=n(1),B=n(9),G=function(e,t,n,a){return e.map((function(e,c){return c===t?e.map((function(e,t){return t===n?a:e})):e}))};function x(e,t){var n=t.x,a=t.y,c=e.blocks[a][n];if(c.stuff<=0)return e;var r=Object(N.a)(Object(N.a)({},c),{},{stuff:c.stuff-1,reachable:!0}),l=r.stuff<=0;return Object(N.a)(Object(N.a)({},e),{},{blocks:G(e.blocks,a,n,r),collectibleBlocks:l?e.collectibleBlocks.filter((function(e){return e.x!==n||e.y!==a})):c.reachable?e.collectibleBlocks:[].concat(Object(B.a)(e.collectibleBlocks),[{x:n,y:a}]),stuff:e.stuff+1})}function M(e,t,n){if(t<0||t>=e.blocks.length||n<0||n>=e.blocks.length)return e;var a=e.blocks[t][n];return a.reachable?e:Object(N.a)(Object(N.a)({},e),{},{blocks:G(e.blocks,t,n,Object(N.a)(Object(N.a)({},a),{},{reachable:!0})),collectibleBlocks:[].concat(Object(B.a)(e.collectibleBlocks),[{x:n,y:t}])})}function T(e,t){var n=t.x,a=t.y;return e.blocks[a][n].stuff>0?e:(e=M(e,a+1,n),e=M(e,a-1,n),e=M(e,a,n+1),e=M(e,a,n-1))}var A=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):w.c)(Object(w.a)(o.a)),R=Object(w.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E(),t=arguments.length>1?arguments[1]:void 0;if(!t)return e;switch(t.type){case"COLLECT":return x(e,t.payload);case"SEARCH":return T(e,t.payload);case"RESET_GAME":var n=t.payload.size;return Object(N.a)(Object(N.a)({},d(n,n)),{},{speed:e.speed});case"SET_SPEED":return Object(N.a)(Object(N.a)({},e),{},{speed:t.payload});default:return e}}),A);l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,{store:R},c.a.createElement(C,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.e475a9c3.chunk.js.map